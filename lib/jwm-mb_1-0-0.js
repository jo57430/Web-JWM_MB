let JWMMB_VERSION="1.0.0",JWMMB_JWM_MIN_VERSION="1.0.0";if(JWM&&JWM.isValid()&&JWM.version_check(JWMMB_JWM_MIN_VERSION))JWM.newMessagebox=(e,t,n,o,r)=>{("number"!=typeof e||e<0||5<e)&&(e=0),("number"!=typeof t||t<0||6<t)&&(t=0),("string"!=typeof n||n.length<=0)&&(n="JWM_MB : Default MessageBox title"),("string"!=typeof o||o.length<=0)&&(o="Default MessageBox text"),("number"!=typeof(r=r&&"object"==typeof r?r:{}).timeout||r.timeout<0)&&(r.timeout=0),"function"!=typeof r.callback&&(r.callback=e=>{}),("number"!=typeof r.winman_identifier||r.winman_identifier<0)&&("string"!=typeof r.winman_identifier||r.winman_identifier.length<=0)&&(r.winman_identifier=null),("string"!=typeof r.win_identifier||r.win_identifier.length<=0)&&(r.win_identifier=null),("string"!=typeof r.customIcon||r.customIcon.length<=0)&&(r.customIcon=null),6!=e||r.customIcon||(e=0),r.resizable||(r.resizable=!1),r.minimize||(r.minimize=!1),r.maximize||(r.maximize=!1),r.close||(r.close=!1);let i;JWM.isManager(r.winman_identifier)&&(i=JWM.getManager(r.winman_identifier));let a,s="";return(a=(i||JWM).newWindow(r.win_identifier,r))&&a.isValid()?(a.onUse=r.callback,a.requestUse=t=>{if("function"==typeof a.onUse)try{a.onUse(t)}catch(e){console.error(`JWM_MB : A error occured when the user has click on the buttonID '${t}'.`,e)}a.remove()},a.setCallback=e=>{"function"==typeof e&&(a.onUse=e)},s+=5==e?`<jwmmb_top><jwmmb_icon aria-label="${e}" style='background-image: ${r.customIcon};'></jwmmb_icon><p>${o}</p></jwmmb_top>`:`<jwmmb_top><jwmmb_icon aria-label="${e}"></jwmmb_icon><p>${o}</p></jwmmb_top>`,0==t?s+=`<jwmmb_control> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(1)">Ok</button> </jwmmb_control>`:1==t?s+=`<jwmmb_control> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(1)">Ok</button> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(2)">Cancel</button> </jwmmb_control>`:2==t?s+=`<jwmmb_control> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(3)">Abort</button> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(4)">Retry</button> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(5)">Ignore</button> </jwmmb_control>`:3==t?s+=`<jwmmb_control> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(6)">Yes</button> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(7)">No</button> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(2)">Cancel</button> </jwmmb_control>`:4==t?s+=`<jwmmb_control> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(6)">Yes</button> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(7)">No</button> </jwmmb_control>`:5==t?s+=`<jwmmb_control> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(4)">Retry</button> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(2)">Cancel</button> </jwmmb_control>`:6==t&&(s+=`<jwmmb_control> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(2)">Cancel</button> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(8)">Try Again</button> <button onclick="this.parentNode.parentNode.parentNode.parentNode.window.requestUse(9)">Continue</button> </jwmmb_control>`),s=`<jwmmb_body>${s}</jwmmb_body>`,a.open(n,s).then(()=>{a.getElement().style.height="auto",a.setCenter(5)}),0<r.timeout&&setTimeout(e=>{a&&a.isValid()&&a.remove()},r.timeout,a),a):JWM.returnError(void 0,"JWM-MB : Unable to create the window, unknown error",1)},JWM.newMessageboxReponse=(o,r,i,a,s)=>new Promise((t,e)=>{(s=s&&"object"==typeof s?s:{}).callback&&(s.callback=null);var n=JWM.newMessagebox(o,r,i,a,s);n.setCallback(e=>{t(e)}),n.onClose=()=>{t(0)}});else{let e="";e=JWM?JWM.isValid()?JWM.version_check(JWMMB_JWM_MIN_VERSION)?"Error not defind !":`The JWM_MB need a more resent version of JWM, version at least '${JWMMB_JWM_MIN_VERSION}'`:"JWM is not valid ?? how ?":"JWM is not present, check if the file is correctly installed and call before this one !",console.error(`JWM_MB ERROR : JWM_MB unable to load/init !\n   -> `+e)}